<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8"/>
    <title>Create/Edit Task</title>
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>
<body class="bg-light">
<div class="container py-5">
    <h1 class="display-6 fw-bold mb-4">Create/Edit Task</h1>

    <form th:action="${mode=='edit'} ? @{'/tasks/' + ${taskId}} : @{/tasks}"
          method="post" th:object="${task}" class="bg-white p-4 rounded-3 shadow-sm">

        <div class="mb-3">
            <label class="form-label">Title:</label>
            <input type="text" th:field="*{title}" class="form-control" placeholder="제목"/>
            <div class="text-danger small" th:if="${#fields.hasErrors('title')}"
                 th:errors="*{title}">title error</div>
        </div>

        <div class="mb-3">
            <label class="form-label">Description:</label>
            <textarea th:field="*{description}" rows="5" class="form-control"
                      placeholder="내용"></textarea>
            <div class="text-danger small" th:if="${#fields.hasErrors('description')}"
                 th:errors="*{description}">description error</div>
        </div>

        <div class="form-check mb-4">
            <input class="form-check-input" type="checkbox" th:field="*{completed}" id="completed"/>
            <label class="form-check-label" for="completed">Completed</label>
        </div>

        <button type="submit" class="btn btn-success">Save</button>
        <a th:href="@{/tasks}" class="btn btn-link">목록으로 돌아가기</a>
    </form>
</div>
</body>
</html>
